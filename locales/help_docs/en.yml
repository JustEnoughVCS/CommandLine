common:
  confirm: |
    Confirm to perform the above operation? (Y/n):

  word:
    version: Version

jvv:
  version:
    header: |
      JVCS Upstream Manager - %{version}

    compile_info: |
      Compile Info
        Compile Date - %{build_time}
        Target       - %{build_target}
        Platform     - %{build_platform} - %{build_toolchain}

  help: |
    **JustEnoughVCS Upstream Vault Commands**
    This program directly creates, manages, and runs JustEnoughVCS upstream vaults.
    **Warning**: It directly operates on vault data - please operate with caution!
    * With great power comes great responsibility *

    **VAULT**:
      create <NAME>            - Create a vault in the given directory name
      init                     - Create a vault in the current directory

    **QUERY**:
      here                     - Query information about the current vault

    **MEMBERS**:
      member [list|register|remove]
        list                   - List members
        register <MEMBER_NAME> - Register a member
        remove   <MEMBER_NAME> - Remove a member

    **SERVICES**:
      service listen           - Run the server

    Additionally, you can use jvv <CMD_NAME> --help to query more detailed help!

  here: |
    **Display Vault Information Here**
    **Example**: cd ./target_dir/ && jvv here

  create: |
    **Create a new vault with the given name**
    **Usage**: jvv create <VAULT_NAME>

    **Example**: jvv create MyVault
    Creates a directory named 'MyVault' and initializes a vault inside it.

  init: |
    **Initialize a vault in the current directory**
    **Usage**: jvv init

    Uses the current directory's name as the vault name.

  member: |
    **Member Management**
    **Usage**: jvv member <register/remove> <MEMBER_NAME>

    Register or remove members based on the given member name.

    It is recommended to use the "snake_case" naming format,
    as it will be stored in this format in the configuration file
    **Example**: jvv member register vault_member

    **Query**: jvv member list
    Equivalent to running `jvv here` in the members directory.

    **Tip**: Does not manage private keys automatically. Keys must be handled manually.

  service: |
    **Service Management**
    **Usage**:
      jvv service listen - Start the server in the current vault
        You can use --port   to set the listening port,
                use --no-log to disable log output

  fail:
    jvcs: "JustEnoughVCS Error: %{err}"
    no_vault_here: No vault found here

    tokio:
      fs:
        create_dir: Failed to create directory %{dir}
        create_dir_all: Failed to create directory %{dir}

    std:
      current_dir: Failed to get current directory
      current_dir_name: Failed to get current directory name
      set_current_dir: Failed to set current directory to %{dir}

    here:
      cfg_not_found:
        Could not find vault configuration!
        If you wish to use this directory as a vault, please use jvv init --help to view related help

      vault_init_failed: Failed to initialize vault!
      member_ids_failed: Failed to get member IDs!
      ref_sheet_not_found: Reference sheet `ref` not found, but it should exist!

    create:
      not_empty: Operation denied! The specified directory already exists.

    init:
      not_empty: Operation denied! The directory is not empty.

    member:
      register: Failed to create member! Please check if a member with the same name already exists
      list: Failed to get member ID!

    service:
      listen_done: |
        Server forced to close due to error!
        Error message: %{error}

  success:
    here:
      info: |
        Found vault *`%{name}`*! (%{num_mem} Members, %{num_pk} registered PubKeys)
        Managing %{num_sheets} Sheets, %{num_vf} VirtualFiles, total %{total_size}

        **Tip**: To start the server, run jvv service listen

    create: Successfully created vault at `%{name}`!

    init: Successfully initialized vault here!

    member:
      register: Successfully created member `%{member}`!
      remove: |
        Successfully removed `%{member}` from the vault!
        (or they were never here?)
      list:
        header: |
          **There are %{num} member(s) in the current vault:**

        footer: |
          **Among them, %{num} members have registered PubKeys.**

        status_key_registered: (REGISTERED)

    service:
      listen_start: Listening for client connections in vault `%{path}` ...
      listen_done: Server shutdown!

jv:
  version:
    header: |
      JustEnoughVCS - %{version}

    compile_info: |
      Compile Info
        Compile Date - %{build_time}
        Target       - %{build_target}
        Platform     - %{build_platform} - %{build_toolchain}

  tip:
    not_workspace: |
      Not in workspace directory.
      Use `jv create <name>` or `jv init` to create workspace

    no_account: |
      No accounts registered on this computer.
      Use `jv account add <account_name>` to create account

    no_account_set: |
      Current workspace account is `unknown`, meaning no account is set
      Use `jv as <account_name>` to set account for workspace

    account_not_exist: |
      The account `%{account}` set for the current workspace is not registered on your computer

    outdated: |
      Workspace info has not been updated for %{hour} hours %{minutes} minutes
      Use `jv u` to get the latest information

  help: |
    **JustEnoughVCS**
    This program connects to upstream vaults to synchronize and commit changes to local workspace files for collaborative work.

    **ALIASES**:
      jv u                          - Download latest information              [REMOTE]
      jv t                          - Track files                              [REMOTE]
      jv a                          - Align files to sheet
      jv [in|out]                   - Import or export files                   [REMOTE]

    **UPSTREAM VAULT**:
      direct <UPSTREAM>             - Direct workspace to upstream vault       [REMOTE]
      unstain                       - Unstain workspace, clear association
      update                        - Download latest information              [REMOTE]

    **ACCOUNTS**:
      account [list|as|add|remove|movekey]
        list                        - List accounts
        as      <ACCOUNT_NAME>      - Switch account in workspace
        add     <ACCOUNT_NAME>      - Add account to this computer
        remove  <ACCOUNT_NAME>      - Remove account from computer
        movekey <NAME> <KEY_FILE>   - Move private key file to specified account

    **SHEETS**:
      sheet [list|use|exit|make|drop|align]
        list                        - List all sheets
        use                         - Use sheet, start work
        exit                        - Exit sheet, clear current modifications
        make                        - Create a new sheet for yourself          [REMOTE]
        drop                        - Drop the sheet for others to use         [REMOTE]
        align                       - Align files to sheet                     [REMOTE]

    **CONTEXT**:
      here                          - Display path information
      status                        - Display current sheet status information

    **FILE TRANSFER**:
      import <PACKAGE_NAME>         - Import files from import area            [REMOTE]
      import <REFERENCE_SHEET_PATH> - Import files from reference sheet        [REMOTE]
      export <FILE> <SHEET_NAME>    - Export files to other sheets             [REMOTE]

    **FILE OPERATIONS**:
      move  <FILE> <TO>             - Safely rename files
      move auto                     - Automatically handle local file moves or renames
      track <FILE>                  - Track files to latest version            [REMOTE]
      hold  <FILE>                  - Hold, sync and lock file                 [REMOTE]
      throw <FILE>                  - Throw, sync and unlock file              [REMOTE]

    **DOCUMENTATION**:
      docs list                     - List all available documentation
      docs <DOC_NAME>               - View content of specified documentation

    You can use jv <COMMAND_NAME> --help to query more detailed help!

    **Tip**: If you need to understand JustEnoughVCS collaboration paradigms, use jv docs get_started

  account: |
    **Manage Local Accounts**
    **Usage**:
    jv account list - List all accounts on this computer and whether private keys are registered
    jv account as <ACCOUNT_NAME> - Switch current account
    jv account add <ACCOUNT_NAME> - Add an account to this computer
    jv account remove <ACCOUNT_NAME> - Delete this account
    jv account movekey <ACCOUNT_NAME> <PRIVATE_KEY_FILE> - Move private key to specified account

    Accounts are identity identifiers on the local computer, each account can be associated with different private keys.
    You need to set up accounts before interacting with upstream vaults.

  sheet: |
    **Manage Sheets**
    **Usage**:
    jv sheet list - List all sheets in the upstream workspace

    jv sheet use <SHEET_NAME> - Use the specified sheet to start current work (automatically created if it doesn't exist)
    jv sheet exit - Exit current work

    jv sheet make <SHEET_NAME> - Create a new sheet for yourself
    jv sheet drop <SHEET_NAME> - Drop the sheet for others to use

    **Align struct**ï¼š
    jv sheet align --list - View all items that need alignment
    jv sheet align [local/remote] - All based on local or remote location
    jv sheet align <ALIGN_TASK> [local/remote] - Choose based on local or remote location
    jv sheet align - Manually specify alignment method

    Sheets are core concepts in JustEnoughVCS, each sheet represents an independent file collection.
    You can switch work between different sheets, or export files from one sheet to another.

  create: |
    **Create Workspace with Specified Name**
    **Usage**: jv create <WORKSPACE_NAME>

    **Example**: jv create my_workspace
    Creates a directory named 'my_workspace' in the current directory and initializes a workspace inside it.

    Workspace is your local working environment for file synchronization and version control with upstream vaults.

  init: |
    **Create Workspace in Current Directory**
    **Usage**: jv init

    This command creates a workspace in the current directory, with the workspace name determined by the current directory name.

    If the current directory is not empty, this operation will fail. Please ensure you execute this command in an empty directory.

  here: |
    **Query Directory Information Here**
    **Usage**: jv here

    Displays detailed information about current directory files, including:
    - File name, size, version number
    - Current file holder
    - Latest version commit information

    This is a quick way to understand the current state of your workspace directory.

  status: |
      **Display Current Sheet Status Information**
      **Usage**: jv status

      Displays the file modification status of the current sheet:
      - Added, deleted files
      - Moved files
      - Modified files

      This is a quick way to understand the current file status of the sheet.

  track: |
    **Track or Pull Files**
    **Usage**: jv track <FILE_PATH>

    **Example**: jv track src/main.rs
    For new files:
      Create and upload the "First Version", then automatically hold them
    For *held* files:
      Upload new versions to the upstream vault to update to the latest version
    For *unheld* or *non-exist* files:
      Download or update local file versions to the latest

    Tracking files is the basic operation of version control, ensuring your upstream and local files are always up to date.

  hold: |
    **Hold Files: Obtain File Edit Rights from Upstream Vault**
    **Usage**: jv hold <FILE_PATH>

    **Example**: jv hold src/lib.rs
    When you need to edit a file, you must first hold the file's edit rights.
    After holding a file, other collaborators will not be able to edit the same file simultaneously, avoiding conflicts.

    After editing, remember to track the file to save changes.

  throw: |
    **Throw Files: Release File Edit Rights from Upstream Vault**
    **Usage**: jv throw <FILE_PATH>

    **Example**: jv throw src/config.rs
    When you no longer need to edit a file, you can throw the file's edit rights.
    After throwing, other collaborators can hold and edit the file.

    If you have made changes to the file but haven't tracked them, throwing will lose those changes.

  move: |
    **Move Local Files**
    **Usage**:
    jv move <SOURCE_FILE> <TARGET_LOCATION> - Safely rename or move files

    **Example**:
    jv move old_name.txt new_name.txt
    jv move src/old_dir/file.rs src/new_dir/file.rs

    Safe move operations preserve file version history, while auto-move detects and handles all renames.

  export: |
    **Export Files to Import Area of Other Sheets**
    **Usage**: jv export <FILE> <TARGET_SHEET> -m <DESCRIPTION> -n <PACKAGE_NAME>

    **Example**: jv export data.csv analytics -m "Export analysis data" -n "analysis_data"
    This operation packages the specified files and sends them to the import area of the target sheet.

    Other collaborators can use the jv import command in the target sheet to import these files.

  import: |
    **Import Files to Current Sheet**
    **Usage**:
    jv import <PACKAGE_NAME> - Import files from import area
    jv import <REFERENCE_SHEET_PATH> - Import files from reference sheet

    **Example**:
    jv import Player_Import - From import area defined name
    jv import ref@Data/Player.csv - From reference sheet path

    Import operation copies files from other sheets or import areas to the current workspace.

  direct: |
    **Direct to Specified Upstream Vault and Stain This Workspace**
    **Usage**: jv direct <UPSTREAM_VAULT_ADDRESS>

    **Example**: jv direct your_vault.org
    This operation connects the current workspace to the specified upstream vault and adds a stain identifier to the workspace.

    After staining, the workspace will only be able to interact with vaults of the specified identifier, ensuring data consistency.

  unstain: |
    **Unstain This Workspace**
    **Usage**: jv unstain

    **DANGER ZONE**: This operation removes the workspace's stain identifier, after which the workspace will be disconnected from the upstream vault.

    After unstaining, the workspace will no longer be associated with any specific vault and can be reconnected to other vaults.
    However, please note that this may cause data synchronization issues, use with caution.

  update: |
    **Download Latest Information from Upstream Vault**
    **Usage**: jv update

    This operation synchronizes the latest file status, sheet information, and member information from the upstream vault.

    It is recommended to perform an update operation before starting work to ensure you have the latest working environment.

  docs: |
    **Query Built-in Documentation**
    **Usage**:
    jv docs list - List all available documentation
    jv docs <DOC_NAME> - View content of specified documentation
    jv docs <DOC_NAME> -d - Print content directly

    **Example**:
    jv docs get_started
    jv docs collaboration -d

    Built-in documentation includes JustEnoughVCS usage guides, collaboration paradigms, and best practices.

  confirm:
    unstain: |
      This operation will disconnect the current workspace from the upstream vault `%{upstream}`
      If you reconnect to a vault with a mismatched identifier, it will cause serious problems, please operate with caution!

    direct: |
      Do you want to direct the current local workspace to the upstream vault %{upstream}?

    sheet:
      make:
        restore: |
          Sheet `%{sheet_name}` is no holder. Take ownership?
          If not, use a different name to create a sheet.

        restore_ref: |
          You can't just grab the reference sheet, it's the team's shared structure! :)

      drop: |
        Are you sure you want to drop sheet `%{sheet_name}`?
        After this, you will not be able to work in the sheet!

    track:
      prepare: |
        You are tracking %{file_counts} file(s), these files will follow the following rules
        1. New files will be uploaded and added to your sheet for management
        2. For files you held, unless they don't exist locally or versions don't match, upload logic will always be executed
        3. For files not held unless the version is frozen, download logic will always be executed to get the latest version

        **CURRENT**:
          **DOWN**: %{old_files} to update, %{download_files} to download
          **UP**  : %{new_files} to track, %{modified_files} to commit

      need_upload: |
        Since your specified tracking operation involves uploading, you need to provide detailed description of your changes
        Ready to commit? Use `jv track <files_to_upload> --work` to start filling in commit information
        Don't want to use command line editor? Use `jv track <files_to_upload> --msg <commit_message>` to commit directly

  fail:
    std:
      current_dir: Failed to get current directory
      current_dir_name: Failed to get current directory name
      set_current_dir: Failed to set current directory to %{dir}

    format_path: |
      Failed to format directory %{path}: %{error}.

    path_not_found: |
      The directory `%{path}` cannot be found!

    parse:
      parser_failed: |
        Incorrect command input!
        Please use `jv -h` to view help

      str_to_sockaddr: |
        Error: %{err}
        Cannot recognize *`%{str}`* as a valid address, please check your input!

    from_core: |
      **Error**: `%{err}` (This error is from core call)

    account:
      no_user_dir: Cannot find user directory!
      add: Failed to add account `%{account}`, please check if the account already exists.
      remove: Failed to remove account `%{account}`, please check if the account exists.
      list: Failed to get account list!
      not_found: Cannot find account `%{account}`!
      as: Failed to set current account, please ensure the current sheet has been exited

    init_create_dir_not_empty: |
      The current directory is not empty!
      If you are certain you want to create here, please use --force to force execution!

    create: Failed to create local workspace!
    init: Failed to create workspace here!
    get_current_dir: Failed to get current directory!

    workspace_not_found: |
      Local workspace not found! Please use this command within a local workspace
      If you wish to use this directory as a local workspace, please use jv init

    read_cfg: Failed to read local workspace configuration file!
    write_cfg: Failed to write changes to local workspace configuration file!

    create_socket: Failed to create TCP socket!
    connection_failed: Failed to connect to target server!

    unstain: |
      The current workspace is not stained, no need to unstain

    not_stained: |
      The current workspace is not stained, cannot perform the next operation!
      **Tip**: Please first use `jv direct <upstream_address>` to direct to an upstream vault

    docs:
      not_found: Doc `%{docs_name}` not found!
      no_doc_dir: |
        Cannot find staging directory!
        **Tip**: You can also use `jv docs %{docs_name} -d` to print directly
      open_editor: |
        Failed to open text editor preview: `%{err}!
        **Tip**: You can also use `jv docs %{docs_name} -d` to print directly

    track:
      no_selection: |
        You did not select any files in this operation!

        **Tip**: If you entered content and still see this,
        it may be because the directory you passed is outside the workspace directory, paths outside the workspace will be ignored

    status:
      no_sheet_in_use: |
        You are not using any sheet! Cannot analyze workspace status in this state
        **Tip**: You can use `jv use <sheet_name>` to select and use a sheet

      analyze: |
        Failed to analyze local workspace status!

  success:
    account:
      as: Successfully switched this workspace's account to `%{account}`
      add: Successfully added account `%{account}`!
      remove: Successfully removed account `%{account}`!
      list:
        header: |
          **There are %{num} account(s) on this computer:**

        status_has_key: (REGISTERED)
      move_key: Successfully moved the private key to the account directory!
    create: Successfully created local workspace!
    init: Successfully created workspace here!
    unstain: |
      Successfully unstained!
      The current workspace no longer belongs to any upstream vault, please direct to a new upstream vault before working
      **Tip**: Use `jv direct <upstream_vault_address>` to redirect to a new upstream vault

    sheet:
      list:
        your_sheet: |
          **YOURS**:
        your_sheet_item: |
          %{number}. %{name}
        your_sheet_item_use: |
          %{number}. %{name} (CURRENT)
        other_sheet: |
          **OTHERS**:
        other_sheet_item: |
          %{number}. %{name} (AT `%{holder}`)
        other_sheet_item_no_holder: |
          %{number}. %{name} (NO HOLDER)
        tip_has_sheet: |
          You are not on any sheet, you can use `jv use <SHEET_NAME>` to use a sheet
        tip_no_sheet: |
          You don't have any sheets, you can use `jv make <SHEET_NAME>` to create a new sheet

    docs:
      list:
        header: |
          **DOCUMENTS**:

        item: |
          %{num}. %{docs_name}

        footer: |
          **Tip**: Use `jv docs <doc_name>` to view doc, use -d for direct output

    here:
      items:
        name: FILE_NAME
        version: VERSION
        hold: HOLD
        size: SIZE
        editing: EDITING

      path_info: |
        Updated in %{minutes} minutes ago
        CURRENT: %{upstream}/%{account}/%{sheet_name}/%{path}

      ghost_directory_item_info: |
        ? %{directory_name}/

      ghost_file_item_info: |
        ? %{file_name}

      directory_item_info: |
        %{directory_name}/

      file_item_info: |
        %{file_name}

      append_info:
        holder:
          yourself: |
            Hold

          others: |
            `%{holder}` held

        size: |
          %{size}

        version:
          unmatch: |
            %{version} -> %{remote_version}

          match: |
            %{version}

        editing:
          cant_edit: |
            Not allowed

          can_edit: |
            Allowed

          edited: |
            Modified

      count_info: |
        %{dir_count} dir(s), %{file_count} file(s). Total %{size}.

    status:
      header: |
        Viewing sheet %{sheet_name}. Before tracking file changes, please confirm:

      content: |
        Structure changes:
        %{moved_items}%{lost_items}%{created_items}
        Content modifications:
        %{modified_items}

      created_item: |
        +   Created:      %{path}

      lost_item: |
        -      Lost:      %{path}

      moved_item: |
        >     Moved:      %{from} -> %{to}

      modified_item: |
        *  Modified:      %{path}

      invalid_modified_item: |
        *  Modified:      %{path} (INVALID)

      no_structure_changes: |
        No structural changes locally

      no_file_modifications: |
        No local content modifications

  result:
    common:
      authroize_failed: |
        Authentication failed: %{err}!
      unknown: |
        Unknown result!

    direct:
      redirected: |
        Successfully redirected to upstream vault `%{upstream}`!

      redirect_failed: |
        Redirection failed: %{err}!

      directed_and_stained: |
        Successfully directed to upstream vault `%{upstream}`!
        Workspace has been **stained**, ready to start working!

      already_stained: |
        Current workspace is already stained and cannot be directed to other upstream vaults with different identifiers
        Please use `jv unstain` to remove the stain first

      same_upstream: |
        Current upstream is the same as given, no need to redirect

    update:
      success: |
        Synchronized to latest information!

      fail:
        sync_cached_sheet_fail:
          path_already_exist: |
            Error syncing upstream information to local: Local path %{path} already exists, but a move operation needs to move an item here.
            Please try moving the item to a different path, then run `jv update` again

    sheet:
      make:
        success: |
          Successfully created sheet `%{name}`!
          Upstream changed, use `jv update` to get the latest information

        success_restore: |
          Successfully restored sheet `%{name}`!
          Upstream changed, use `jv update` to get the latest information

        sheet_already_exists: |
          Sheet `%{name}` already exists!

        sheet_creation_failed: |
          Sheet creation failed: `%{error}`

      drop:
        success: |
          Successfully dropped sheet `%{name}`!
          Upstream changed, use `jv update` to sync to latest information
          **Tip**: You can use `jv make %{name}` to restore this sheet

        sheet_in_use: |
          Sheet `%{name}` is in use, cannot drop!
          **Tip**: Please use `jv exit` to exit current sheet first

        sheet_not_exists: |
          Sheet `%{name}` does not exist!

        sheet_drop_failed: |
          Failed to drop sheet: %{err}

        no_holder: |
          Sheet `%{name}` has no holder!

        not_owner: |
          You are not the holder of sheet `%{name}`, cannot drop it!

    track:
      done: |
        Tracked %{count} files to latest!
        **Total**: %{created} Created, %{updated} Updated, %{synced} Synced

      structure_changes_not_solved: |
        There are unresolved local structure changes!
        This indicates there are unconfirmed move or delete operations in your local workspace
        **Tip**: Use `jv status` to view structure changes

      create_failed:
        sheet_not_found: |
          Sheet `%{name}` does not exist in the upstream vault!
          This means the sheet has been deleted in the upstream vault, or the sheet does not belong to you

        create_file_on_exist_path: |
          Failed to track and create file!
          The file path `%{path}` you want to track already exists in the remote sheet, please use a different path for tracking
